# Тестовое задание для программистов (основная деятельность) ООО «ИТ Продажи»

## Содержание
- [Технологии](#технологии)
- [Архитектура](#архитектура)
- [Структура проекта](#Структура-проекта)
- [Начало работы](#начало-работы)
- [Условия выполнения](#условия-выполнения)
- [Как правильно протестировать endpoint](#как-правильно-протестировать-endpoint)

## Технологии
- [Python](https://www.python.org/)
- [Flask](https://pypi.org/project/Flask/)
- [Flask-SQLAlchemy](https://pypi.org/project/Flask-SQLAlchemy/)

## Архитектура

1. Flask: основной фреймворк для создания API.
2. SQLite: для хранения заявок на доставку и их состояний.
3. HTTP-протокол: для взаимодействия с клиентом.
4. JSON: для передачи данных.

## Структура проекта

- app.py - Основной файл приложения
- models.py - Определение модели данных
- requirements.txt - Зависимости
- instance/delivery_service.db - Директория и файл будут созданы автоматически при создании первого заказа


## Начало работы
Что бы запустить проект необходимо скопировать репозиторий себе на устройство.
Для этого выполните эту команду в терминале:

```sh
$ git clone https://github.com/NikitaChigarov/it_sales.git
```

Затем установите все библиотеки из файла (находится внутри клонированного репозитория) requirements.txt:

## Условия выполнения
1) Создать простую API-систему на Flask, имитирующую деятельно службы доставки.\
Сервис должен работать на протоколе HTTP, порт – на усмотрение разработчика.
2) Сервис должен имитировать работу следующих функций:
   - создание заявки на доставку;
   - получение информации о заявке;
   - удаление заявки (при условии, что товар не передан в доставку);
3) Заявка имеет следующие состояния:
   - создана;
   - товар передан в доставку;
   - товар доставлен.
4) Объект заявки хранится в виде регулярно обновляемого файла через систему SQLite;


## Как правильно протестировать endpoint
Тестирование endpoint возможно через Postman или консольную утилиту curl.
1. **Через Postman**:
   - Создание заявки:
     - Откройте Postman.
     - Выберите метод POST.
     - Введите URL: http://127.0.0.1:5000/delivery.
     - Перейдите на вкладку "Body" и выберите raw, затем выберите JSON и введите данные, например:\
     {"details": "Товар 1"}
     - Нажмите "Send".
   - Получение информации о заявке:
     - Выберите метод GET.
     - Введите URL: http://127.0.0.1:5000/delivery/id (id - идентификатор заказа).
     - Нажмите "Send".
   - Удаление заявки:
     - Выберите метод DELETE.
     - Введите URL: http://127.0.0.1:5000/delivery/id (id - идентификатор заказа).
     - Нажмите "Send".
   - Обновление статуса заявки:
     - Выберите метод POST.
     - Введите URL: http://127.0.0.1:5000/delivery/id/status (id- идентификатор заказа).
     - Перейдите на вкладку "Body" и выберите raw, затем выберите JSON и введите данные, например:\
    {"status": "товар передан в доставку"}
     - Нажмите "Send".


2. **Через консольную утилиту curl**:
   - Создание заявки:\
    curl -X POST http://127.0.0.1:5000/delivery -H "Content-Type: application/json" -d '{"details": "Товар 1"}'
   - Получение информации о заявке:\
   curl http://127.0.0.1:5000/delivery/1
   - Удаление заявки:\
   curl -X DELETE http://127.0.0.1:5000/delivery/1
   - Обновление статуса заявки:\
   curl -X PUT http://127.0.0.1:5000/delivery/1/status -H "Content-Type: application/json" -d '{"status": "товар передан в доставку"}'
